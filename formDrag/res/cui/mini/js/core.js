/*! cui 2016-11-08 */
function shortCutOuter(a){var b={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1},c=a.shortKey,d=a.opts;d||(d=b);var e=d.target;"string"==typeof d.target&&(e=document.getElementById(d.target));var f=function(b){$.coral.callFunction(a)};all_shortcuts[c]={callback:f,target:e,event:d.type},e.addEventListener?e.addEventListener(d.type,f,!1):e.attachEvent?e.attachEvent("on"+d.type,f):e["on"+d.type]=f}function focusable(a,b){var c,d,e,f=a.nodeName.toLowerCase();return"area"===f?(c=a.parentNode,d=c.name,a.href&&d&&"map"===c.nodeName.toLowerCase()?(e=$("img[usemap='#"+d+"']")[0],!!e&&visible(e)):!1):(/input|select|textarea|button|object/.test(f)?!a.disabled:"a"===f?a.href||b:b)&&visible(a)}function visible(a){return $.expr.filters.visible(a)&&!$(a).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}function _refreshAllComponent(a){"undefined"==typeof a&&(a="body");var b=a.tagName?a.tagName.toLowerCase():"";if(a=$(a)[0],"none"!=a.style.display&&"style"!=b&&"script"!=b){var c=a.childNodes,d=$(a).attr("component-id"),e=$("#"+d),f=e.attr("component-role");if(d){if("undefined"==typeof f)return;if(-1!==$.inArray(f,$.coral.formPlugins))return;"panel"==f?e[f]("resizePanel"):e[f]("refresh")}else for(var g=0,h=c.length;h>g;g++){var i=c[g];1==i.nodeType&&i.parentNode==a&&_refreshAllComponent(i)}}}function _refreshChild(a){for(var a=$(a)[0],b=a.childNodes,c=0,d=b.length;d>c;c++){var e=b[c];1==e.nodeType&&e.parentNode==a&&_refreshAllComponent(e)}}void 0!==document.documentMode&&document.documentMode<=5&&alert("CoralUI can not be used in this ('quirks') mode!");var CoralUIVersion="4.1.5";window.Coral={cc:function(a,b){$.parser.component.push({componentName:a,id:b})}},window.coral={},$.uiplugins=$.uiplugins||{},coral.eventsQueue=[],coral.eventsParser=function(){$.each(coral.eventsQueue,function(a){var b=coral.eventsQueue.shift();b.instance._on.apply(b.instance,b.args)}),coral.eventsTimer=null},coral.render=function(a){$(a).attr("data-render",""),$.parser.parse(a)};var validAction=!1;$.controller=function(a,b){return b?(window[a]=window[a]||{},$.extend(!0,window[a],b)):window[a]},$.coralApply=function(a,b,c){var d=$(b).attr("component-role"),e={};return d&&(e=$(b)[d]("option")),e.controllerName&&(b=$.controller(e.controllerName)),$.isFunction(a)?a.apply(b,c):void 0},$.coral=$.coral||{},$.coral.openTag=!0,$.coral.strictLayout=!1,coral.regSpecialChars=["^","$","(",")","[","]","{","}",".","?","+","*","|","\\"],coral.specialCharsMap={"&":"&amp;","#":"&#35",">":"&gt;","<":"&lt;","‘":"&lsquo","’":"&rsquo",",":"&sbquo","'":"&#39","\\":"&#92;",'"':"&ldquo;","!":"&#33","%":"&#37","~":"&#126","@":"&#64","=":"&#61","(":"&#40",")":"&#41","{":"&#123","}":"&#125","[":"&#91;","]":"&#93;",$:"&#36","?":"&#63","*":"&#42;","|":"&#124;","^":"&#94;",".":"&#46;","+":"&#43;","/":"&#47;"," ":"&nbsp;"},$(document).unbind(".clearTips").bind("click.clearTips",function(a){return validAction?(validAction=!1,void a.stopPropagation()):($(".coral-validate-state-error").slideUp(100,function(a){$(this).remove()}),void(validAction=!1))}),$(document).unbind("mousewheel").bind("mousewheel",function(a){var b=$.validate.validateSuffix();setTimeout(function(){$.each($(".coral-validate-state-error"),function(a,c){var d=$(c).attr("class"),e=d.substring(0,d.indexOf(b)),f=$("#"+e).find(".ctrl-init"),g=f.parents(".coral-validate");$(c).remove(),g.validate("validItem",f,null,!0)})},0)}),$.coral.decode=function(a){return a},$.coral.encode=function(a){return a},$.coral.getStyles=function(a){if(window.getComputedStyle){var b=window.getComputedStyle(a,null);return b}if(document.documentElement.currentStyle){var b=a.currentStyle;return b}},$.coral.fitParent=function(a,b){b=void 0==b?!0:b;var c=a.parent();return b?c.hasClass("coral-noscroll")||(c.addClass("coral-noscroll"),"BODY"==c.attr("tagName")&&$("html").addClass("coral-panel-fit")):c.hasClass("coral-noscroll")&&(c.removeClass("coral-noscroll"),"BODY"==c.attr("tagName")&&$("html").removeClass("coral-panel-fit")),{width:c.width(),height:c.height()}},$.coral.getLeft=function(a,b){var c=b.offset().left;return c+a.outerWidth()>$(window).outerWidth()+$(document).scrollLeft()&&(c=$(window).outerWidth()+$(document).scrollLeft()-a.outerWidth()),0>c&&(c=0),c},$.coral.getTop=function(a,b,c){var d=b.offset().top+b.outerHeight();return"up"==c?d=b.offset().top-a.outerHeight():(d+a.outerHeight()>$(window).outerHeight()+$(document).scrollTop()&&(d=b.offset().top-a.outerHeight()),d<$(document).scrollTop()&&(d=b.offset().top+b.outerHeight())),d},$.coral.findComponent=function(a,b){var c=[];a||(a=".ctrl-init");var d=$(a,b),e=/[\t\r\n]/g;return d.length&&$.each(d,function(){for(var a="",b=this.className.replace(e," ").split(" "),d=0,f=b.length;f>d;d++){a=$(this).attr("component-role"),c.push($(this)[a]("instance"));break}}),c},$.coral.setIsLabel=function(a,b){var c=$.coral.findComponent(".ctrl-form-element",b),d=0,e=c.length;for(d;e>d;d++){var f=c[d];f._setOption("isLabel",a),f.element.hasClass("hasTooltip")&&(0==a?f.element.tooltip("enable"):f.element.tooltip("disable"))}},$.coral.setIslabel=$.coral.setIsLabel,$.coral.setReadOnly=function(a,b){var c=$.coral.findComponent(".ctrl-form-element",b),d=0,e=c.length;for(d;e>d;d++){var f=c[d];f._setOption("readonly",a),f.element.hasClass("hasTooltip")&&(0==a?f.element.tooltip("enable"):f.element.tooltip("disable"))}},$.coral.renderComponent=function(a){var b=[],c=".coral-no-rendered";a||(a="body");var d=$(c,a),e=/[\t\r\n]/g;return d.length&&$.each(d,function(){for(var a="",b=this.className.replace(e," ").split(" "),c=0,d=b.length;d>c;c++){if(a=$(this).attr("component-role"),rendered=$(this).prop("rendered"),!rendered){$(this).removeClass("coral-no-rendered");var f=$(this)[a]("instance");$(this).addClass("ctrl-init ctrl-init-"+this.componentName),f._create(),f._renderComponent()}break}}),b},$.coral.parseShortCut=function(a){$.coral.addShortCut(a.shortKey,a.callback,a.opts)},$.coral.formatOption=function(a){delete a.xtype;var b=JSON.stringify(a),b=b.replace("{",""),b=b.substring(0,b.length-1);return b},$.coral.customComponent=function(a){var b,c=a.xtype,d=[],e=a.items;switch(c){case"layout":if(e=a.regions,b=$.coral.formatOption(a),d.push("<div class='coralui-"+c+"' data-options='"+b+"'>"),e){for(var f=0;f<e.length;f++){var g=e[f];if(itemStr=$.coral.formatOption(e[f]),d.push("<div data-options='"+itemStr+"'>"),g.items)for(var h=e[f].items,i=0;i<h.length;i++){var j=$.coral.customComponent(h[i]);d.push(j)}d.push("</div>")}d.push("</div>")}break;case"row":if(e=a.columns,d.push('<div class="row-fluid clearfix">'),e.length)for(var f=0;f<e.length;f++){var g=e[f];if(d.push('<div class="span'+g.percent+' column ctrl-init ctrl-init-sortable coral-sortable">'),0!=g.items.length)for(var h=e[f].items,i=0;i<h.length;i++){var j=$.coral.customComponent(h[i]);d.push(j)}d.push("</div>")}d.push("</div>");break;case"accordion":if(b=$.coral.formatOption(a),d.push("<div class='coralui-"+c+"' data-options='"+b+"'>"),e)for(var i=0;i<e.length;i++){var j=$.coral.customComponent(e[i]);d.push(j)}d.push("</div>");break;case"container":if(b=$.coral.formatOption(a),d.push("<div class='demo ui-sortable ctrl-init ctrl-init-sortable coral-sortable'>"),e)for(var i=0;i<e.length;i++){var j=$.coral.customComponent(e[i]);d.push(j)}d.push("</div>");break;case"tree":b=$.coral.formatOption(a),d.push("<ul class='coralui-"+c+"' data-options='"+b+"'/>");break;case"grid":b=$.coral.formatOption(a),d.push("<div class='coralui-"+c+"' data-options='"+b+"'/>");break;case"form":if(b=$.coral.formatOption(a),d.push("<form class='coralui-form' data-options='"+b+"'>"),e){d.push('<div class="ui-draggable"><div class="column">');for(var f=0;f<e.length;f++){var g=e[f],j=$.coral.customComponent(e[f]);d.push(j)}d.push("</div></div>")}else d.push('<div class="ui-draggable"><div class="column"></div></div>');d.push("</form>");break;case"textbox":case"combobox":case"combogrid":case"combotree":case"radio":b=$.coral.formatOption(a),d.push("<input class='coralui-"+c+"' data-options='"+b+"'/>");break;case"textarea":b=$.coral.formatOption(a),d.push("<textarea class='coralui-textbox' data-options='"+b+"'/>");break;case"button":b=$.coral.formatOption(a),d.push("<button class='coralui-"+c+"' data-options='"+b+"'/>");break;case"toolbar":case"progressbar":b=$.coral.formatOption(a),d.push("<div class='coralui-"+c+"' data-options='"+b+"'/>");break;case"view":var k=a.items;if(delete a.items,b=$.coral.formatOption(a),a.items=k,d.push("<div class='coralui-"+c+"' data-options='"+b+"'>"),e.length)for(var i=0;i<e.length;i++){var j=$.coral.customComponent(e[i]);d.push(j)}d.push("</div>")}return d.join("")},$.coral.customRender=function(a){var b="";b=$.coral.customComponent(a);var c=$(a.renderTo||"body").html(b);$.parser.parse(c)},$.coral.callFunction=function(a,b,c){function d(a,b,c,d,e){if(a=a.toLowerCase(),d=d||window.event,c.disable_in_input){var f;if(d.target?f=d.target:d.srcElement&&(f=d.srcElement),3==f.nodeType&&(f=f.parentNode),"INPUT"==f.tagName||"TEXTAREA"==f.tagName)return}d.keyCode?code=d.keyCode:d.which&&(code=d.which);var g=String.fromCharCode(code).toLowerCase();188==code&&(g=","),190==code&&(g=".");var h=a.split("+"),i=0,j={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},l={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},m={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};d.ctrlKey&&(m.ctrl.pressed=!0),d.shiftKey&&(m.shift.pressed=!0),d.altKey&&(m.alt.pressed=!0),d.metaKey&&(m.meta.pressed=!0);for(var n=0;k=h[n],n<h.length;n++)"ctrl"==k||"control"==k?(i++,m.ctrl.wanted=!0):"shift"==k?(i++,m.shift.wanted=!0):"alt"==k?(i++,m.alt.wanted=!0):"meta"==k?(i++,m.meta.wanted=!0):k.length>1?l[k]==code&&i++:c.keycode?c.keycode==code&&i++:g==k?i++:j[g]&&d.shiftKey&&(g=j[g],g==k&&i++);return i!=h.length||m.ctrl.pressed!=m.ctrl.wanted||m.shift.pressed!=m.shift.wanted||m.alt.pressed!=m.alt.wanted||m.meta.pressed!=m.meta.wanted||(b.apply(e?e.element:d,[d]),c.propagate)?void 0:(d.cancelBubble=!0,d.returnValue=!1,d.stopPropagation&&(d.stopPropagation(),d.preventDefault()),!1)}var e,f,g,h={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(a instanceof Array)for(var i=0;i<a.length;i++)e=a[i].shortKey,f=a[i].callback,g=a[i].opts,g||(g=h),d(e,f,g,b,c);else e=a.shortKey,f=a.callback,g=a.opts,g||(g=h),d(e,f,g,b,c)};var all_shortcuts={};$.coral.addShortCut=function(a){var b;if(a instanceof Object)for(b=0;b<a.length;b++)shortCutOuter(a[b])},$.coral.removeShortCut=function(a,b){a=a.toLowerCase();var c=all_shortcuts[a];if(delete all_shortcuts[a],c){var d=c.event,e=c.callback;if(b)var f=$(b);else var f=c.target;f.detachEvent?f.detachEvent("on"+d,e):f.removeEventListener?f.removeEventListener(d,e,!1):f["on"+d]=!1}},$.coral.valid={},$.coral.valid=function(a){function b(a,b){if(!b)return!1;for(var c=b.length,d=0;c>d;d++)if("string"==typeof b[d]&&a.is(b[d]))return!0;return!1}function c(a,b,c){return"datepicker"==b?a[b]("valid",a,c):$.inArray(b,["textbox","combobox","combotree","radio","radiolist","checkbox","checkboxlist"])>-1?a[b]("valid",c):void 0}validAction=!0;var d=0,e=$.data(a,"excluded"),f=a.find($("[class*='coral-validation-']")),g=null,h=!0;return e&&"string"==typeof e&&(e=$.map(e.split(","),function(a){return $.trim(a)})),"form"===a[0].tagName.toLowerCase()&&(g=a.form("option","errTipsType")),f.each(function(){var a=this.className,f="",i=a.split(" ");for(var j in i)if(i[j].indexOf("coral-validation-")>=0){f=i[j].substr(i[j].indexOf("coral-validation-")+17);break}b($(this)[f]("component"),e)||("none"===g&&(h=!1),c($(this),f,h)||("first"===g&&(h=!1),++d))}),!(d>0)},jQuery.support.placeholder=function(){var a=document.createElement("input");return"placeholder"in a}();var uuid=0,runiqueId=/^coral-id-\d+$/;$.extend($.coral,{version:"4.0.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},zindex:1e3}),$.fn.extend({scrollParent:function(a){var b=this.css("position"),c="absolute"===b,d=a?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var a=$(this);return c&&"static"===a.css("position")?!1:d.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&e.length?e:$(this[0].ownerDocument||document)},uniqueId:function(a){return this.each(function(){this.id||(a?a+="-":a="",this.id=a+"coral-id-"+ ++uuid)})},removeUniqueId:function(){return this.each(function(){runiqueId.test(this.id)&&$(this).removeAttr("id")})},closestComponent:function(a){return this.each(function(){$(this).closest(".ctrl-init-"+a)})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(a){return function(b){return!!$.data(b,a)}}):function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){return focusable(a,!isNaN($.attr(a,"tabindex")))},tabbable:function(a){var b=$.attr(a,"tabindex"),c=isNaN(b);return(c||b>=0)&&focusable(a,!c)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(a,b){function c(a,b,c,e){return $.each(d,function(){b-=parseFloat($.css(a,"padding"+this))||0,c&&(b-=parseFloat($.css(a,"border"+this+"Width"))||0),e&&(b-=parseFloat($.css(a,"margin"+this))||0)}),b}var d="Width"===b?["Left","Right"]:["Top","Bottom"],e=b.toLowerCase(),f={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+b]=function(a){return void 0===a?f["inner"+b].call(this):this.each(function(){$(this).css(e,c(this,a)+"px")})},$.fn["outer"+b]=function(a,d){return"number"!=typeof a?f["outer"+b].call(this,a):this.each(function(){$(this).css(e,c(this,a,!0,d)+"px")})}}),$.fn.addBack||($.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,$.camelCase(b)):a.call(this)}}($.fn.removeData)),$.coral.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(a){return function(b,c){return"number"==typeof b?this.each(function(){var a=this;setTimeout(function(){$(a).focus(),c&&c.call(a)},b)}):a.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".coral-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".coral-disableSelection")},zIndex:function(a){if(void 0!==a)return this.css("zIndex",a);if(this.length)for(var b,c,d=$(this[0]);d.length&&d[0]!==document;){if(b=d.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(d.css("zIndex"),10),!isNaN(c)&&0!==c))return c;d=d.parent()}return 0}}),$.extend($.coral,{plugin:{add:function(a,b,c){var d,e=$.coral[a].prototype;for(d in c)e.plugins[d]=e.plugins[d]||[],e.plugins[d].push([b,c[d]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}},toFunction:function(fn){var ns=null,i=0,_fn=null;if($.isFunction(fn))return fn;if("string"==typeof fn){if($.isFunction(window[fn]))return window[fn];try{if(_fn=eval("("+fn+")"),$.isFunction(_fn))return _fn}catch(e){}if(fn.indexOf(".")>0){if(ns=fn.split("."),_fn=window[ns[0]],!_fn)return null;for(i=1;i<ns.length;i++)if(_fn=_fn[ns[i]],!_fn)return null}return _fn}return fn}}),$.extend({loadJson:function(a,b){var c=null;return $.ajax({url:a,type:"get",dataType:"json",async:!1,data:b,success:function(a){c=a},error:function(a,b,c){$.error("function load json error: "+b)}}),c},isCoral:function(a,b){return arguments.length<2||!a?!1:(a.jquery&&(a=a.get(0)),!!$.data(a,"coral-"+b))}}),$.extend($.coral,{beforeDoOverflow:function(){},scriptPath:function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.src.substring(0,b.src.lastIndexOf("/")+1);return c}(),contextPathFun:function(){var a=window.document.location.href,b=window.document.location.pathname,c=a.indexOf(b),d=(a.substring(0,c),b.substring(0,b.substr(1).indexOf("/")+1));return d},adjustedUI:function(a){var b,c=$(a),d=c.parent();b=d.height(),c.siblings(":visible").each(function(){var a=$(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),c.height(Math.max(0,b-c.innerHeight()+c.height())).addClass("coral-scroll");var e=c.uniqueId("coral-adjuested").attr("id");c.attr("component-id",e),c.attr("component-role","adjusted"),$.coral.refreshAllComponent(a)},isFit:function(a,b){var c=$(a).parent().closest(".ctrl-fit-element");c.length||(c=$("body"));var d=c.length&&(c[0]===$(b)[0]||c.find(b).length);return d},formPlugins:["button","menubutton","textbox","autocomplete","autocompletetree","uploader","splitbutton","radio","radiolist","checkbox","checkboxlist","spinner","slider","combo","fileuploader","combobox","combotree","combogrid","datepicker","tree","progressbar"],getUI:function(a){return $.uiplugins[a]?$.uiplugins[a]:-1},refreshChild:function(a){_refreshChild(a)},refreshAllComponent:function(a){_refreshAllComponent(a)}}),$.coral.contextPath=$.coral.contextPathFun.apply(),$.fn.caret=function(a){var b=this[0],c="true"===b.contentEditable;if(0==arguments.length){if(window.getSelection){if(c){b.focus();var d=window.getSelection().getRangeAt(0),e=d.cloneRange();return e.selectNodeContents(b),e.setEnd(d.endContainer,d.endOffset),e.toString().length}return b.selectionStart}if(document.selection){if(b.focus(),c){var d=document.selection.createRange(),e=document.body.createTextRange();return e.moveToElementText(b),e.setEndPoint("EndToEnd",d),e.text.length}var a=0,f=b.createTextRange(),e=document.selection.createRange().duplicate(),g=e.getBookmark();for(f.moveToBookmark(g);0!==f.moveStart("character",-1);)a++;return a}return b.selectionStart?b.selectionStart:0}if(-1==a&&(a=this[c?"text":"val"]().length),window.getSelection)c?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a);else if(document.body.createTextRange)if(c){var f=document.body.createTextRange();f.moveToElementText(b),f.moveStart("character",a),f.collapse(!0),f.select()}else{var f=b.createTextRange();f.move("character",a),f.select()}return c||b.focus(),a};